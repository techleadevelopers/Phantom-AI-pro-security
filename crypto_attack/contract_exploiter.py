import json
from web3 import Web3
from rich.console import Console
from rich.table import Table

console = Console()
RPC_URL = "https://mainnet.infura.io/v3/YOUR_PROJECT_ID"
w3 = Web3(Web3.HTTPProvider(RPC_URL))

ADDRESS = "0xYourContractAddress"
ABI_PATH = "contract.abi.json"

def exploit():
    with open(ABI_PATH) as f:
        abi = json.load(f)
    contract = w3.eth.contract(address=ADDRESS, abi=abi)
    console.print(f"[bold green]Loaded contract {ADDRESS}[/bold green]")
    for fn in contract.functions:
        console.log(f"Testing function:[blue] {fn.fn_name}[/blue]")
        # Example: call view functions
        try:
            res = getattr(contract.functions, fn.fn_name)().call()
            console.log(f"Return: {res}")
        except:
            pass

if __name__=='__main__':
    exploit()
